<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name='viewport' content='width=device-width'>
    <title>nominumbers</title>
    <link href="css/style.css" rel="stylesheet" type="text/css">
    <link href="css/loading.css" rel="stylesheet" type="text/css">
  </head>
  
  <body>

    <article>
      <header>
	<h1>ðŸ¤– nominumbers: Polkadot/Kusama staking analysis</h1>
      </header>

      <section class="options">
	<select id="network">	  
	  <option value="dot">Polkadot</option>
	  <option value="ksm">Kusama</option>
	  <option value="wnd">Westend</option>
	</select>
	  &nbsp;
	<select id="currency">	  
	  <option value="usd">USD</option>
	  <option value="eur">EUR</option>
	  <option value="cny">CNY</option>
	  <option value="gbp">GBP</option>
	</select>
	<div class="option-spacer"></div>
	<div class="dropdown">
	  <span>Start date*</span>
	  <div class="dropdown-content">
	    Due to subscan public API rate limits, collecting many eras over long periods of time will take a while to complete.
	  </div>
	</div>
	<input id="start-date" type="date"></input>
	<span id="num-eras">= 0 eras</span>
      </section>
      
      <section class="address">
	<div id="stash_icon"></div>
	<input id="stash_address" placeholder="Stash Address" type="text"></input>
	<button id="start">Start</button>
	
	<div id="working" style="display:none;" class="lds-roller"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>	
      </section>

      <section id="error" class="error"></section>
      
      <section class="outputs">
	<div class="output-row">
	  <div><b>APY</b>
	    <div class="dropdown">
	      <span>*</span>
	      <div class="dropdown-content">
		This is estimated based on your currently bonded amount, and the rewards found - if your bond has changed during this time period, it will be incorrect.
	      </div>
	    </div>
	    
	  </div>
	  <div id="apy">0.00%</div>
	</div>
	<div class="output-row">
	  <div><b>Total reward</b></div>
	  <div id="total">0.0</div>
	</div>
	<div class="output-row">
	  <div><b>Total currency</b></div>
	  <div id="total-currency">0.00</div>
	</div>
      </section>
      
	<div class="tab-bar">
	  <button id="nominations-button" class="tab-button">Nominations</button>
	  <button id="details-button" class="tab-button">Reward info</button>
<!--	  <button id="missing-button" class="tab-button">Missing eras</button> -->
	</div>


      <section class="holder">

	<section id="nominations-tab" class="nominations tab">
	  <div class="nominations-data">
	    <table id="nominations">
	      <thead>
		<tr>
		  <th scope="col">Icon</th>
		  <th scope="col">Validator</th>
		  <th scope="col">Percentage</th>
		  <th scope="col">Eras active</th>
		  <th scope="col">Confidence</th>
		</tr>
	      </thead>
	      <tbody>
	      </tbody>
	    </table>
	  </div>
	</section> <!-- nominations -->

	<section id="rewards-tab" class="rewards tab" style="display:none;">
	  <div class="nominations-data">
	    <table id="details">
	      <thead>
		<tr>
		  <th scope="col">Date</th>
		  <th scope="col">Time</th>
		  <th scope="col">Tokens</th>
		  <th scope="col">Currency</th>
		  <th scope="col">Price</th>
		  <th scope="col">Validators</th>
		</tr>
	      </thead>
	      <tbody>
	      </tbody>
	    </table>
	  </div>
	</section> <!-- rewards -->

<!--	<section id="missing-tab" class="missing tab">
	  Eras not found in rewards: <br>
	  <span id="missing-eras"></span<
	</section> --> <!-- missing eras --> 

      </section>  <!-- holder -->

      <hr>

      <section class="blurb">
	<p>
	  This open source app
	  reads <a href="https://kusama.subscan.io/">subscan</a> and
	  displays as best it can which validators your rewards have
	  come from, along with individual reward records which you
	  can download. The idea is to provide a bit of detail on how
	  your nomination mix is working. Nominumbers runs entirely in
	  your browser - you can also
	  <a href="https://github.com/playing-with-dust/nominumbers/archive/refs/heads/production.zip">download the zip</a>
	  and use it locally on your device (see the
	  <a href="https://github.com/playing-with-dust/nominumbers#readme">README</a>
	  for more info).
	  <a href="https://github.com/playing-with-dust/nominumbers">GPL3 source code here</a>.
	</p>
	<p>
	  Tips welcome!<br>
	  <span style="font-size: 75%; overflow:hidden;">
	    KSM: FLzgz4qt5foC1DXRHQQwC2cLwu39eGkhx93x7UsM5uniBvM<br>
	    DOT: 13GUzG6QSjaBvzjaxMhoqE6EH6wmshSDZGPHYgzEifpcaNMH<br>
          </span>
	</p>
	<p>
	  This project has been kindly supported by the <a href="https://kusama.subscan.io/treasury_tip/0xf22af71734034b6fea46fcde7df56ead363beed687eb55e26a84691171d755aa">Kusama Treasury</a>. You are running version 1.0rc1
	</p>
      </section>

    </article>
    <script src="bundle.js"></script>

  </body>
</html>
